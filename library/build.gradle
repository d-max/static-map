apply plugin: 'com.android.library'

android {
    compileSdkVersion Integer.parseInt(COMPILE_SDK_VERSION)
    buildToolsVersion BUILD_TOOLS_VERSION

    defaultConfig {
        minSdkVersion Integer.parseInt(MIN_SDK_VERSION)
        targetSdkVersion Integer.parseInt(TARGET_SDK_VERSION)
        versionCode Integer.parseInt(VERSION_CODE)
        versionName VERSION_NAME
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_6
        targetCompatibility JavaVersion.VERSION_1_6
    }
}

task javadocGenerate(type: Javadoc) {
    // prints javadoc outputs when info logging level set
    logging.captureStandardError LogLevel.INFO

    description = "Generates javadoc"
    source = android.sourceSets.main.java.srcDirs

    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))
    exclude '**/BuildConfig.java'
    exclude '**/R.java'
}

task javadocPackage(dependsOn: javadocGenerate, type: Jar) {
    baseName = ARTIFACT_ID
    classifier = "javadoc"
    version VERSION_NAME
    from tasks.javadocGenerate.destinationDir
}

task sourcePackage(type: Jar) {
    baseName = ARTIFACT_ID
    classifier = "sources"
    version VERSION_NAME
    from android.sourceSets.main.java.srcDirs
}

